{"version":3,"sources":["app.js","environment.js","main.js","common/messages.js","common/request-interceptor.js","common/request-log.js","facets/facets.js","home/home.js","resources/index.js","services/search-api.js","simple/simple.js","/Users/loctanvo/Projects/AzureSearchDemo/searchapps/src/app.html","/Users/loctanvo/Projects/AzureSearchDemo/searchapps/src/site.css","/Users/loctanvo/Projects/AzureSearchDemo/searchapps/src/common/request-log.html","/Users/loctanvo/Projects/AzureSearchDemo/searchapps/src/common/request-log.css","/Users/loctanvo/Projects/AzureSearchDemo/searchapps/src/home/home.html","/Users/loctanvo/Projects/AzureSearchDemo/searchapps/src/home/home.css","/Users/loctanvo/Projects/AzureSearchDemo/searchapps/src/facets/facets.html","/Users/loctanvo/Projects/AzureSearchDemo/searchapps/src/facets/facets.css","/Users/loctanvo/Projects/AzureSearchDemo/searchapps/src/simple/simple.html","/Users/loctanvo/Projects/AzureSearchDemo/searchapps/src/simple/simple.css"],"names":["App","configureRouter","config","router","title","map","route","name","moduleId","nav","debug","testing","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","RequestSent","requestMessage","request","ResponseReceived","responseMessage","response","RequestInterceptor","ea","message","console","log","publish","requestError","error","JSON","parse","responseError","inject","RequestLog","subscribe","stringify","msg","Facets","Home","SearchApi","interceptor","httpClient","x","withBaseUrl","withParams","withHeader","withInterceptor","search","query","post","count","jsonResult","result","resolve","results","description","label","labelmediumimage","style","stylename","brewery","breweries","raw","suggest","suggesterName","highlightPreTag","highlightPostTag","value","Simple","api","queryText","rawResult","rawJson","tired","attached","_","$","autocomplete","source","term","minLength","select","event","ui","item","data","_renderItem","ul","replace","attr","append","appendTo"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n    configureRouter(config, router) {\n        this.router = router;\n        config.title = 'Azure Search Demo';\n        config.map([\n            { route: ['', 'home'], name: 'home', moduleId: 'home/home', title: 'Home' },\n            { route: 'simple', name: 'simple', moduleId: 'simple/simple', title: 'Simple', nav: true },\n            { route: 'facets', name: 'facets', moduleId: 'facets/facets', title: 'Faceted Search', nav: true }\n        ]);\n    }\n}","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\n//Note: You may want to use environment-specific configuration.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class RequestSent {\n    constructor(requestMessage) {\n        this.request = requestMessage;\n    }\n}\n\nexport class ResponseReceived {\n    constructor(responseMessage) {\n        this.response = responseMessage;\n    }\n}","import { EventAggregator } from \"aurelia-event-aggregator\";\nimport { RequestSent, ResponseReceived } from \"./messages\";\n\nexport class RequestInterceptor {\n    static inject = [EventAggregator]\n\n    constructor(ea) {\n        this.ea = ea;\n    }\n\n    request(message) {\n        console.log(message);\n        this.ea.publish(new RequestSent(message));\n        return message;\n    }\n\n    requestError(error) {\n        console.log(error);\n        throw error;\n    }\n\n    response(message) {\n        console.log(message);\n        this.ea.publish(new ResponseReceived(JSON.parse(message.response)));\n        return message;\n    }\n\n    responseError(error) {\n        console.log(error);\n        throw error;\n    }\n}","import { EventAggregator } from 'aurelia-event-aggregator';\nimport { RequestSent, ResponseReceived } from './messages';\n\nexport class RequestLog {\n    static inject = [EventAggregator];\n\n    constructor(ea) {\n        this.ea = ea;\n        this.request = '';\n        this.response = '';\n\n        ea.subscribe(RequestSent, msg => this.request = JSON.stringify(msg.request, null, 4));\n        ea.subscribe(ResponseReceived, msg => this.response = JSON.stringify(msg.response, null, 4));\n    }\n\n    get hasValues() {\n        return this.request || this.response;\n    }\n\n}","export class Facets {\n    constructor() {\n\n    }\n}","export class Home {\n\n}","export function configure(config) {\n  //config.globalResources([]);\n}\n","import { HttpClient } from \"aurelia-http-client\";\nimport { RequestInterceptor } from \"../common/request-interceptor\";\n\nexport class SearchApi {\n    static inject = [RequestInterceptor];\n\n    constructor(interceptor) {\n        this.httpClient = new HttpClient()\n            .configure(x => {\n                x.withBaseUrl(\"https://azuresearchfree.search.windows.net/indexes/beersv1/docs\")\n                x.withParams({ \"api-version\": \"2015-02-28\" });\n                x.withHeader(\"api-key\", \"5655AB55C4E55DBE67C691F376482D8C\");\n                x.withInterceptor(interceptor)\n            })\n    }\n\n    search(query) {\n        return new Promise(resolve => {\n            this.httpClient\n                .post(\"/search\", {\n                    count: true,\n                    search: query\n                })\n                .then(result => {\n                    let jsonResult = JSON.parse(result.response);\n                    resolve({\n                        count: jsonResult[\"@odata.count\"],\n                        results: jsonResult[\"value\"].map(x => {\n                            return {\n                                name: x.name,\n                                description: x.description,\n                                label: x.labelmediumimage,\n                                style: x.stylename,\n                                brewery: x.breweries[0]\n                            }\n                        }),\n                        raw: jsonResult\n                    });\n                });\n        });\n    }\n\n    suggest(query) {\n        return new Promise(resolve => {\n            this.httpClient\n                .post(\"/suggest\", {\n                    search: query,\n                    suggesterName: \"suggestBeerName\",\n                    highlightPreTag: \"<b>\",\n                    highlightPostTag: \"</b>\"\n                })\n                .then(result => {\n                    var results = JSON.parse(result.response).value;\n                    console.log(results);\n                    resolve(results.map(x => x[\"@search.text\"]));\n                });\n        })\n    }\n}","import { SearchApi } from 'services/search-api';\n\nexport class Simple {\n    static inject = [SearchApi];\n\n    constructor(api) {\n        this.api = api;\n        this.results = [];\n        this.queryText = '';\n        this.rawResult = '';\n        this.count = null;\n        this.rawJson = '';\n    }\n\n    get hasResults() {\n        return this.rawResult;\n    }\n\n    search() {\n        this.api\n            .search(this.queryText)\n            .then(x => {\n                this.count = x.count;\n                this.results = x.results;\n                this.rawResult = JSON.stringify(x.raw, null, 4);\n            });\n    }\n\n    tired() {\n        this.queryText = \"\\\"real kick\\\"\";\n        this.search();\n    }\n\n    attached() {\n        let _ = this;\n        $(\".search-input\").autocomplete({\n                source: function(request, response) {\n                    _.api\n                        .suggest(request.term)\n                        .then(results => response(results));\n                },\n                minLength: 2,\n                select: function(event, ui) {\n                    _.queryText = ui.item.value;\n                }\n            })\n            .data('ui-autocomplete')\n            ._renderItem = function(ul, item) {\n                item.value = item.value.replace(/<\\/?\\w*>/g, \"\");\n\n                return $(\"<li>\")\n                    .attr(\"data-value\", item.value)\n                    .append(item.label)\n                    .appendTo(ul);\n            }\n    }\n}",null,null,null,null,null,null,null,null,null,null],"sourceRoot":"../src"}